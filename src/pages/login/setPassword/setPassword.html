<ion-header>
  <ion-navbar>
    <ion-title>{{'FORGET_PASSWORD' | translate}}</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <div class="topInfo">
    {{"SETPASSWORD_INFO" | translate}}
  </div>
  <div *ngIf="goPage" style="background-color: #F0F8FF">
      <ion-item item-start no-lines style="background-color: #F0F8FF">
        <div item-start>
            请完成以下验证
        </div>
      </ion-item>
      <ion-item no-lines>
        <ion-input type="text" placeholder="请输入手机号" (ionChange)="changePhone(username)" [(ngModel)]="username"></ion-input>
      </ion-item>
      <div class="verificationCode">
        <ion-item style="margin-top: 1px" no-lines>
          <ion-input type="text" placeholder="请输入验证码" [(ngModel)]="email"></ion-input>
        </ion-item>
        <div *ngIf="getCode" [ngClass]="{'verificationCodeTxt': isActive, 'verificationCodeTxtActive': !isActive}" (tap)="getVerificationCode()">
          获取验证码
        </div>
        <div *ngIf="reSend" class="verificationCodeTxtActive" (tap)="sendVerificationCode()">
            重新发送
          </div>
        <div *ngIf="isTime" class="verificationCodeTxtActive">
            {{time}}s
        </div>
      </div>
      <div class="passwordWrap">
        <ion-item style="margin-top: 1px" no-lines>
          <ion-input *ngIf="showPassword" type="password" (ionChange)="changePassword(newPassword)" placeholder="设置新的密码" [(ngModel)]="newPassword"></ion-input>
          <ion-input *ngIf="!showPassword" type="text" placeholder="设置新的密码" [(ngModel)]="newPassword"></ion-input>
        </ion-item>
        <div class="eyeIcon" (tap)="seePassword()">
            <ion-icon *ngIf="showPassword" [ngStyle]="{'color': changIconColor ? 'rgb(0,0,0)' : 'rgba(0,0,0,0.4)'}" ios="ios-eye-outline" md="md-eye"></ion-icon>
            <ion-icon *ngIf="!showPassword" ios="ios-eye-off-outline" md="md-eye-off"></ion-icon>
        </div>
      </div>
      <div padding>
        <button id="e2e-login-button" ion-button block round color="primary" (tap)="submit()">
            {{'SUBMIT' | translate}}
        </button>
      </div>
  </div>
  <div *ngIf="!goPage" style="background-color: #F0F8FF">
      <ion-item no-lines>
          <ion-icon class="sucsessIcon" ios="ios-checkmark-circle"></ion-icon>
      </ion-item>
      <ion-item no-lines>
        <span class="sucsessInfo">{{"SETPASSWORD_SUCSESS" | translate}}</span>
      </ion-item>
      <ion-item no-lines>
          <span class="bottomInfo">{{"SETPASSWORD_NOTE" | translate}}</span>
        </ion-item>
        <div padding>
          <button id="e2e-login-button" ion-button block round color="primary" (tap)="goLogIn()">
              {{'KNOW_LOGIN' | translate}}
          </button>
        </div>
  </div>
</ion-content>