<ion-header>
  <ion-navbar>
    <ion-title>{{'ADD_FRIEND' | translate}}</ion-title>
    <ion-buttons end>
      <button ion-button color="primary" clear (click)="searchUser()">
        <span>{{'SEARCH' | translate}}</span>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="content-gray">
  <ion-searchbar placeholder="{{'SEARCH' | translate}}" [(ngModel)]="searchInput" (ionInput)="onInput($event)">
  </ion-searchbar>

  <ion-list *ngIf="searchInput" class="icmp-list-top-margin">
    <button *ngFor="let user of userList" ion-item (click)="lookUserProfile(user)">
      <ion-avatar item-left>
        <img *ngIf="!user.headImageContent" [src]="setWordHeadImage(user)">
        <img *ngIf="user.headImageContent" [src]=user.headImageContent (error)="setWordHeadImage(user)">
      </ion-avatar>
      <h2>{{user.name}}</h2>
      <button *ngIf="user.status != null && user.status.code != null && user.status.code != '0'" ion-button item-end (click)="addFriend($event, user)">添加</button>
      <button disabled *ngIf="user.status != null && user.status.code != null && user.status.code == '0'" ion-button item-end>已添加</button>
    </button>
  </ion-list>

</ion-content>
